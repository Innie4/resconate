{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import GlobalNav from'../components/GlobalNav';import{apiUrl,apiFetch,clearTokens}from'../utils/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EmployeePortal=()=>{var _sections$find,_sections$find2;const[activeSection,setActiveSection]=useState('dashboard');const navigate=useNavigate();useEffect(()=>{const checkAuth=async()=>{try{const response=await apiFetch('/api/employee/me');if(!response.ok){clearTokens();navigate('/employee-login');}}catch(error){clearTokens();navigate('/employee-login');}};checkAuth();},[navigate]);const handleLogout=()=>{clearTokens();navigate('/employee-login');};const sections=[{id:'profile',icon:'user',title:'My Profile',desc:'View & update details'},{id:'leave',icon:'calendar-alt',title:'Leave Requests',desc:'Apply & track leave'},{id:'payroll',icon:'money-bill-wave',title:'Payroll',desc:'View payslips'},{id:'performance',icon:'chart-line',title:'Performance',desc:'Reviews & goals'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 min-h-screen\",children:[/*#__PURE__*/_jsx(GlobalNav,{}),/*#__PURE__*/_jsx(\"nav\",{className:\"gradient-bg shadow-lg\",style:{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'},children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between h-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/resconate-logo.png\",alt:\"Resconate\",className:\"h-8 w-auto\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-3 text-white text-xl font-bold\",children:\"Employee Portal\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:\"Welcome, Employee\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg hover:bg-opacity-30 transition-colors\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sign-out-alt mr-2\"}),\"Logout\"]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\",children:sections.map(section=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>setActiveSection(section.id),className:\"bg-white rounded-lg shadow-md p-6 cursor-pointer transition-all hover:transform hover:-translate-y-1 hover:shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-full bg-\".concat(section.id==='profile'?'blue':section.id==='leave'?'green':section.id==='payroll'?'yellow':'purple',\"-100 text-\").concat(section.id==='profile'?'blue':section.id==='leave'?'green':section.id==='payroll'?'yellow':'purple',\"-600\"),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-\".concat(section.icon,\" text-xl\")})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900\",children:section.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:section.desc})]})]})},section.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 text-gray-500\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-\".concat(((_sections$find=sections.find(s=>s.id===activeSection))===null||_sections$find===void 0?void 0:_sections$find.icon)||'cog',\" text-4xl mb-4\")}),/*#__PURE__*/_jsxs(\"p\",{children:[((_sections$find2=sections.find(s=>s.id===activeSection))===null||_sections$find2===void 0?void 0:_sections$find2.title)||'Dashboard',\" content coming soon...\"]})]})})]})]});};export default EmployeePortal;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","GlobalNav","apiUrl","apiFetch","clearTokens","jsx","_jsx","jsxs","_jsxs","EmployeePortal","_sections$find","_sections$find2","activeSection","setActiveSection","navigate","checkAuth","response","ok","error","handleLogout","sections","id","icon","title","desc","className","children","style","background","src","alt","onClick","map","section","concat","find","s"],"sources":["C:/Users/Inimfon Udoh/Resconate-Portfolio/frontend/src/pages/EmployeePortal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport GlobalNav from '../components/GlobalNav';\r\nimport { apiUrl, apiFetch, clearTokens } from '../utils/api';\r\n\r\nconst EmployeePortal = () => {\r\n  const [activeSection, setActiveSection] = useState('dashboard');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      try {\r\n        const response = await apiFetch('/api/employee/me');\r\n        if (!response.ok) {\r\n          clearTokens();\r\n          navigate('/employee-login');\r\n        }\r\n      } catch (error) {\r\n        clearTokens();\r\n        navigate('/employee-login');\r\n      }\r\n    };\r\n    checkAuth();\r\n  }, [navigate]);\r\n\r\n  const handleLogout = () => {\r\n    clearTokens();\r\n    navigate('/employee-login');\r\n  };\r\n\r\n  const sections = [\r\n    { id: 'profile', icon: 'user', title: 'My Profile', desc: 'View & update details' },\r\n    { id: 'leave', icon: 'calendar-alt', title: 'Leave Requests', desc: 'Apply & track leave' },\r\n    { id: 'payroll', icon: 'money-bill-wave', title: 'Payroll', desc: 'View payslips' },\r\n    { id: 'performance', icon: 'chart-line', title: 'Performance', desc: 'Reviews & goals' }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"bg-gray-50 min-h-screen\">\r\n      <GlobalNav />\r\n      <nav className=\"gradient-bg shadow-lg\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}>\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between h-16\">\r\n            <div className=\"flex items-center\">\r\n              <img src=\"/resconate-logo.png\" alt=\"Resconate\" className=\"h-8 w-auto\" />\r\n              <span className=\"ml-3 text-white text-xl font-bold\">Employee Portal</span>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              <span className=\"text-white\">Welcome, Employee</span>\r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg hover:bg-opacity-30 transition-colors\"\r\n              >\r\n                <i className=\"fas fa-sign-out-alt mr-2\"></i>Logout\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      <div className=\"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n          {sections.map((section) => (\r\n            <div\r\n              key={section.id}\r\n              onClick={() => setActiveSection(section.id)}\r\n              className=\"bg-white rounded-lg shadow-md p-6 cursor-pointer transition-all hover:transform hover:-translate-y-1 hover:shadow-lg\"\r\n            >\r\n              <div className=\"flex items-center\">\r\n                <div className={`p-3 rounded-full bg-${section.id === 'profile' ? 'blue' : section.id === 'leave' ? 'green' : section.id === 'payroll' ? 'yellow' : 'purple'}-100 text-${section.id === 'profile' ? 'blue' : section.id === 'leave' ? 'green' : section.id === 'payroll' ? 'yellow' : 'purple'}-600`}>\r\n                  <i className={`fas fa-${section.icon} text-xl`}></i>\r\n                </div>\r\n                <div className=\"ml-4\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-900\">{section.title}</h3>\r\n                  <p className=\"text-gray-600\">{section.desc}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <div className=\"text-center py-12 text-gray-500\">\r\n            <i className={`fas fa-${sections.find(s => s.id === activeSection)?.icon || 'cog'} text-4xl mb-4`}></i>\r\n            <p>{sections.find(s => s.id === activeSection)?.title || 'Dashboard'} content coming soon...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmployeePortal;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}